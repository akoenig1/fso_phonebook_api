{"version":3,"sources":["components/Form.js","components/Filter.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Form","props","newName","handleNameChange","newNumber","handleNumberChange","newCountry","handleCountryChange","addName","value","onChange","type","onClick","Filter","searchCategory","searchText","handleChange","Person","person","removeName","name","number","country","id","Persons","people","map","Notification","message","className","text","baseUrl","personService","getAll","axios","get","then","res","data","create","newPerson","post","update","updatedPersonInfo","put","remove","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setNewCountry","searchName","setSearchName","searchCountry","setSearchCountry","searchResults","setSearchResults","setMessage","useEffect","event","target","results","filter","toLowerCase","includes","toUpperCase","preventDefault","foundPerson","window","confirm","updatedPerson","setTimeout","catch","err","response","returnedPerson","concat","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.44917bfd.chunk.js","sourcesContent":["import React from 'react'\n\nconst Form = (props) => {\n  const {\n    newName,\n    handleNameChange,\n    newNumber,\n    handleNumberChange,\n    newCountry,\n    handleCountryChange,\n    addName\n  } = props\n\n  return(\n    <form>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n        <br/>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n        <br />\n        country: <input value={newCountry} onChange={handleCountryChange} />\n      </div>\n      <div>\n        <button type=\"submit\" onClick={addName} >add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default Form","import React from 'react'\n\nconst Filter = (props) => {\n  const { searchCategory, searchText, handleChange } = props\n\n  return(\n    <div>\n      search by {searchCategory}: <input value={searchText} onChange={handleChange} />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst Person = (props) => {\n  const { person, removeName } = props\n\n  return(\n    <li>{person.name}: {person.number}, {person.country} <button onClick={() => removeName(person.id, person.name)}>Delete</button></li>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = (props) => {\n  const { people, removeName } = props\n\n  return(\n    people.map(person => <Person key={person.name} person={person} removeName={removeName} />)\n  )\n}\n\nexport default Persons","import React from 'react'\nimport './styles/notification.css'\n\nconst Notification = ({ message }) => {\n  if(!message) return null\n  \n  return(\n    <div className={message.type}>\n      {message.text}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(res => res.data)\n}\n\nconst create = newPerson => {\n  const request = axios.post(baseUrl, newPerson)\n  return request.then(res => res.data) \n}\n\nconst update = (id, updatedPersonInfo) => {\n  const request = axios.put(`${baseUrl}/${id}`, updatedPersonInfo)\n  return request.then(res => res.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(res => res)\n}\n\nconst personService = { getAll, create, update, remove }\n\nexport default personService\n","import React, { useState, useEffect } from 'react'\nimport './App.css'\nimport Form from './components/Form'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newCountry, setNewCountry ] = useState('')\n  const [ searchName, setSearchName ] = useState('')\n  const [ searchCountry, setSearchCountry ] = useState('')\n  const [ searchResults, setSearchResults ] = useState([])\n  const [ message, setMessage ] = useState({})\n\n  const getDataHook = () => {\n    personService\n      .getAll()\n      .then(people => {\n        setPersons(people)\n      })\n  }\n\n  useEffect(getDataHook, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleCountryChange = (event) => {\n    setNewCountry(event.target.value)\n  }\n\n  const handleNameSearchChange = (event) => {\n    setSearchName(event.target.value)\n    const results = persons.filter(person => \n      person.name.toLowerCase().includes(event.target.value.toLowerCase())\n    )\n    setSearchResults(results)\n  }\n\n  const handleCountrySearchChange = (event) => {\n    setSearchCountry(event.target.value)\n    const results = persons.filter(person => \n      person.country.includes(event.target.value.toUpperCase())\n    )\n    setSearchResults(results)\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const foundPerson = persons.filter(person => person.name === newName)[0];\n    const id = foundPerson ? foundPerson.id : null\n    if(id) {\n      const confirmed = window.confirm(`${newName} is already in the phonebook. Replace their old number with this one?`)\n      if(confirmed) {\n        const updatedPersonInfo = {\n          name: newName,\n          number: newNumber,\n          country: newCountry\n        }\n        personService\n          .update(id, updatedPersonInfo)\n          .then(updatedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : updatedPerson))\n            setNewName('')\n            setNewNumber('')\n            setNewCountry('')\n            setMessage({\n              text: `Updated ${updatedPerson.name}'s number in phonebook`,\n              type: \"success\"\n            })\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000)\n          })\n          .catch(err => {\n            setMessage({\n              text: err.response.data.err,\n              type: \"error\"\n            })\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000)\n          })\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n        country: newCountry\n      }\n      personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setNewCountry('')\n          setMessage({\n            text: `Added ${returnedPerson.name} to phonebook`,\n            type: \"success\"\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n        })\n        .catch(err => {\n          setMessage({\n            text: err.response.data.err,\n            type: \"error\"\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n        })\n    }\n  }\n\n  const removeName = (id, name) => {\n    const confirmed = window.confirm(`Delete ${name}`)\n    if(confirmed) {\n      personService\n        .remove(id)\n        .then(res => {\n          setPersons(persons.filter(p => p.id !== id))\n          setMessage({\n            text: `Removed ${name} from phonebook`,\n            type: \"success\"\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n        })\n        .catch(err => {\n          setMessage({\n            text: `${name} does not exist on server`,\n            type: \"error\"\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter searchCategory=\"name\" searchText={searchName} handleChange={handleNameSearchChange} />\n      <Filter searchCategory=\"country\" searchText={searchCountry} handleChange={handleCountrySearchChange} />\n      <h2>Add New</h2>\n      <Form \n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        newCountry={newCountry}\n        handleCountryChange={handleCountryChange}\n        addName={addName}\n      />\n      <h2>Numbers</h2>\n      <Persons people={searchName === '' && searchCountry === '' ? persons : searchResults} removeName={removeName} />\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}